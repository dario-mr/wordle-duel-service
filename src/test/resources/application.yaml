spring:
  datasource:
    url: jdbc:h2:mem:testdb${random.long};MODE=PostgreSQL;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE;INIT=CREATE SCHEMA IF NOT EXISTS wordle\;SET SCHEMA wordle\;
  jpa:
    hibernate.ddl-auto: validate
  data:
    redis.repositories.enabled: false
  security:
    oauth2.client.registration:
      google:
        client-id: test-client
        client-secret: test-secret
        scope: openid, profile, email

management:
  health:
    redis.enabled: false

wordle:
  max-attempts: 1
  word-length: 5

app:
  frontend:
    success-redirect: "http://frontend.test/"
  websocket:
    allowed-origins:
      - "http://allowed-origin.test"
  security:
    whitelist-ant-patterns: /actuator/**,/oauth2/**,/login/**,/public/**,/h2-console/**,/swagger-ui/**,/v3/api-docs/**,/ws,/ws/**
    csrf:
      cookie-name: WD-XSRF-TOKEN
      header-name: X-WD-XSRF-TOKEN
    matcher:
      api: /api/**
      admin: /admin/**
      auth: /auth/**
    jwt:
      issuer: wordle-duel-service-test
      ttl-seconds: 900
      secret: test-secret-test-secret-test-secret-32bytes
    refresh:
      ttl-days: 180
      cookie-name: wd_refresh
      cookie-samesite: Lax
      cookie-path: /
      cookie-secure: false

room:
  lock:
    enabled: false
    acquire-timeout: PT3S
    expire: PT60S
  cleanup:
    cron: "-"

refresh-token:
  cleanup:
    cron: "-"
